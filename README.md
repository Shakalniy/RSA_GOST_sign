# RSA и ГОСТ Р 34.10-2018 Система Цифровой Подписи

Данный проект представляет собой программу с графическим интерфейсом для создания и проверки цифровых подписей с использованием алгоритмов RSA и ГОСТ Р 34.10-2018.

## Описание проекта

Программа позволяет:

1. **Подписывать файлы** с использованием алгоритмов:
   - RSA - криптографический алгоритм с открытым ключом, основанный на вычислительной сложности задачи факторизации больших целых чисел
   - ГОСТ Р 34.10-2018 - российский стандарт цифровой подписи, основанный на эллиптических кривых

2. **Проверять подписи** для подтверждения целостности и подлинности файлов

3. **Генерировать криптографические ключи** для обоих алгоритмов

## Структура проекта

Проект имеет модульную структуру:

- **RSA/** - модуль для работы с алгоритмом RSA
  - `rsa.py` - графический интерфейс для RSA
  - `sign_file.py` - функционал для подписи файлов
  - `check_sign.py` - функционал для проверки подписи
  - `gen_keys.py` - генерация ключей RSA
  - `gen_prime_nums.py` - генерация простых чисел
  - `miller_test.py` - тест Миллера-Рабина для проверки простоты
  - `lucas_test.py` - тест Люка для проверки простоты

- **GOST/** - модуль для работы с алгоритмом ГОСТ Р 34.10-2018
  - `gost.py` - графический интерфейс для ГОСТ
  - `sign_file.py` - функционал для подписи файлов
  - `check_sign.py` - функционал для проверки подписи
  - `gen_params.py` - генерация параметров эллиптической кривой
  - `stribog.py` - реализация хеш-функции ГОСТ Р 34.11-2018 (Стрибог)

- **constants/** - константы, используемые в алгоритмах

- **main.py** - главный файл программы, объединяющий модули RSA и ГОСТ

## Установка и запуск

### Требования

Для работы программы требуется Ubuntu 20.04 и выше, Python 3.6+ и следующие библиотеки:

```
PyQt6
SageMath
```

### Установка

#### Обновление пакетов:
```bash
sudo apt-get update
```

#### Установка MiniForge3:
```bash
curl -L -O "https://github.com/conda-forge/miniforge/releases/latest/download/Miniforge3-$(uname)-$(uname -m).sh"
bash Miniforge3-$(uname)-$(uname -m).sh
```

#### Перезапуск терминала:
```bash
source ~/.bashrc
```

#### Найти папку с установленным miniforge:
```bash
find ~ -type d -name "miniforge3" 
```

#### Вставить туда `export PATH="/path/to/miniforge/bin:$PATH"` (заменить `/path/to/miniforge` на ваш путь) после этого нужно перезапустить терминал:
```bash
nano ~/.bashrc
```

#### Проверка установки conda:
```bash
conda --version
```

#### Посмотреть настройки локали, должно быть en_US.UTF-8:
```bash
locale
```

#### Если не так, то установить пакет для настройки локали, после этого перезапустить терминал:
```bash
sudo apt-get install locales
sudo locale-gen en_US.UTF-8
```

#### Настройка локали:
```bash
export LANG=en_US.UTF-8
export LC_ALL=en_US.UTF-8
```

#### Сделать настройки постоянными, после этого перезагрузить терминал:
```bash
echo 'export LANG=en_US.UTF-8' >> ~/.bashrc
echo 'export LC_ALL=en_US.UTF-8' >> ~/.bashrc
```

#### Создание виртуального окружения с SageMath:
```bash
conda create -n sage sage python=3.12 -c conda-forge
```

#### Инициализация, после этого перезапустить терминал:
```bash
conda init
```

#### Активация окружения:
```bash
conda activate sage
```

#### Установка PyQt6:
```bash
pip install PyQt6
```

### Запуск программы
#### Активация виртуального окружения:
```bash
source ~/miniforge3/bin/activate
conda activate sage
```
#### Запуск программы:
```bash
sage main.py
```

## Использование

1. **Подпись файла**:
   - Выберите алгоритм (RSA или ГОСТ)
   - Нажмите кнопку "Обзор" и выберите файл для подписи
   - Нажмите кнопку "Подписать файл"
   - После успешной подписи вы получите сообщение и путь к папке с подписанным файлом

2. **Проверка подписи**:
   - Выберите алгоритм (RSA или ГОСТ)
   - Нажмите кнопку "Обзор" и выберите файл для проверки
   - Нажмите кнопку "Проверить подпись"
   - Программа отобразит результат проверки

## Безопасность

Программа использует криптографически стойкие алгоритмы:
- RSA с ключами достаточной длины
- ГОСТ Р 34.10-2018 с рекомендованными параметрами эллиптических кривых
- Хеш-функцию ГОСТ Р 34.11-2018 (Стрибог) для ГОСТ и SHA-256 для RSA

## Лицензия

Данный проект распространяется под лицензией [MIT](LICENSE).
